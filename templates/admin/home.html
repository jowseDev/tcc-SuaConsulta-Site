<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sua Consulta</title>
    <link rel="stylesheet" href="/static/css/admin-home.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="/js/formatador.js"></script>
</head>
<body>
    <header>
        <img src="/static/img/logo.png" alt="Logo Sua Consulta" class="logo">
    </header>

    <div class="container">
        <div id="admin-inicial" class="main-content">
            <div class="welcome-section">
                <h2>Seja bem-vindo, administrador!</h2>
                <p>Escolha uma das opções abaixo para gerenciar o sistema:</p>
            </div>

            <div class="actions-grid">
                <div class="action-card" onclick="abrirMenuMedico()">
                    <h3>Menu Médico</h3>
                    <p>Gerenciar médicos do sistema</p>
                </div>

                <div class="action-card" onclick="abrirMenuAtendente()">
                    <h3>Menu Atendente</h3>
                    <p>Gerenciar atendentes do sistema</p>
                </div>

                <div class="action-card" onclick="abrirMenuOutro()">
                    <h3>Menu Postos de Saúde</h3>
                    <p>Gerenciar postos de saúde</p>
                </div>
            </div>
        </div>

        <div id="admin-content" class="main-content" style="display: none;"></div>
    </div>

    <script>
        function abrirMenuMedico() {
            Swal.fire({
                title: 'Menu Médico',
                icon: 'info',
                showCancelButton: true,
                confirmButtonText: 'Listar Médicos',
                cancelButtonText: 'Cadastrar Médico',
                showCloseButton: true,
                reverseButtons: true
            }).then((result) => {
                if (result.isConfirmed) {
                    carregarConteudo('/auth/admin/listar/medico');
                } else if (result.dismiss === Swal.DismissReason.cancel) {
                    carregarConteudo('/auth/admin/cadastro/medico');
                }
            });
        }

        function abrirMenuAtendente() {
            Swal.fire({
                title: 'Menu Atendente',
                icon: 'info',
                showCancelButton: true,
                confirmButtonText: 'Listar Atendentes',
                cancelButtonText: 'Cadastrar Atendente',
                showCloseButton: true,
                reverseButtons: true
            }).then((result) => {
                if (result.isConfirmed) {
                    carregarConteudo('/auth/admin/listar/atendente');
                } else if (result.dismiss === Swal.DismissReason.cancel) {
                    carregarConteudo('/auth/admin/cadastro/atendente');
                }
            });
        }

        function carregarConteudo(url) {
            $.ajax({
                url,
                type: 'GET',
                success: function (html) {
                    $('#admin-inicial').hide();
                    $('#admin-content').html(html).show();
                },
                error: function () {
                    Swal.fire('Erro', 'Não foi possível carregar o conteúdo.', 'error');
                }
            });
        }

        function voltarInicio() {
            $('#admin-content').hide().empty();
            $('#admin-inicial').show();
        }
    </script>
</body>
</html>